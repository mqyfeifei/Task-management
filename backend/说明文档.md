# 个人任务管理系统项目搭建全流程（专业版IDE适配）

## 前置说明
已确认工具：IntelliJ IDEA 专业版、PyCharm 专业版、VS Code、Navicat、Node.js、Java 25、Git、MySQL  
系统环境：Windows 10/11（macOS操作逻辑一致，路径以`~/`开头）  
专业版优势：自带Maven、Spring Boot插件、数据库工具等，无需额外配置基础组件

---

## 第一部分：环境初始化（关键配置）

### 1.1 Java环境变量配置（必做）
1. 找到Java 25安装路径（默认：`C:\Program Files\Java\jdk-25`），复制路径
2. 右键「此电脑」→「属性」→「高级系统设置」→「环境变量」
3. 系统变量→新建：
    - 变量名：`JAVA_HOME`
    - 变量值：`C:\Program Files\Java\jdk-25`（粘贴你的路径）
4. 系统变量→找到`Path`→编辑→新建：
    - `%JAVA_HOME%\bin`
    - `%JAVA_HOME%\jre\bin`（若没有jre文件夹，在Java目录执行`bin\jlink --module-path jmods --add-modules java.desktop --output jre`生成）
5. 验证：Win+R输入`cmd`，执行`java -version`，显示`java version "25.x.x"`即成功

### 1.2 Maven配置（IDEA专业版自带，无需单独安装）
1. 打开IntelliJ IDEA→「File」→「Settings」（或Ctrl+Alt+S）
2. 左侧导航：「Build, Execution, Deployment」→「Build Tools」→「Maven」
3. 配置项：
    - **Maven home path**：选择`Bundled (Maven 3)`（专业版自带，无需修改）
    - **User settings file**：点击「Browse」→导航到`C:\Users\你的用户名`→手动创建`.m2`文件夹→在`.m2`中创建`settings.xml`（内容如下）
    - **Local repository**：默认`C:\Users\你的用户名\.m2\repository`（可保持默认）
4. `settings.xml`内容（阿里云镜像加速）：
   ```xml
   <settings xmlns="http://maven.apache.org/SETTINGS/1.2.0"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.2.0 https://maven.apache.org/xsd/settings-1.2.0.xsd">
     <mirrors>
       <mirror>
         <id>aliyun</id>
         <mirrorOf>central</mirrorOf>
         <url>https://maven.aliyun.com/repository/public</url>
       </mirror>
     </mirrors>
   </settings>
   ```
5. 点击「Apply」→「OK」，Maven配置完成

### 1.3 Node.js环境验证
1. 打开VS Code→「终端」→「新建终端」
2. 执行`node -v`（显示版本号，如v20.10.0）和`npm -v`（显示版本号，如10.2.3），确认环境正常
3. 安装前端工具：`npm install -g pnpm`（加速依赖安装）

---

## 第二部分：后端项目搭建（IntelliJ IDEA 专业版）

### 2.1 创建Spring Boot项目（专业版一键生成）
1. 打开IDEA→「New Project」
2. 左侧选择「Spring Initializr」（没有就选sprint boot）（专业版自带，无需插件），右侧：
    - **Project SDK**：选择Java 21(21 和 17的兼容性更好)
    - **Initializr Service URL**：保持默认`https://start.spring.io`
3. 点击「Next」，填写项目信息：
    - **Group**：`com.task`
    - **Artifact**：`backend`
    - **Name**：`task-management-backend`
    - **Package name**：`com.task.backend`
    - **Java**：21
4. 点击「Next」，选择依赖（搜索并勾选）：
    - **Spring Web**（核心Web功能）
    - **Spring Security**（用户认证）
    - **MyBatis-Plus Generator**（代码生成）(没有就暂且不选)
    - **MySQL Driver**（数据库连接）
    - **Lombok**（简化实体类）
5. 点击「Next」→选择项目保存路径（如`D:\projects\task-management-backend`）→「Finish」
----
这里补充没有初始化项目时没有MyBatis-Plus Generator该依赖的解决方法
请按照以下步骤解决：
### 步骤 1：在 Maven 依赖中添加 MyBatis-Plus 代码生成器
打开项目的 `pom.xml` 文件，在 `<dependencies>` 标签内添加以下依赖：
```xml
<!-- MyBatis-Plus 核心依赖 -->
<dependency>
    <groupId>com.baomidou</groupId>
    <artifactId>mybatis-plus-boot-starter</artifactId>
    <version>3.5.7</version>
</dependency>

<!-- MyBatis-Plus 代码生成器 -->
<dependency>
    <groupId>com.baomidou</groupId>
    <artifactId>mybatis-plus-generator</artifactId>
    <version>3.5.7</version>
</dependency>
<!-- 代码生成器模板引擎（选 Velocity，也可换 Freemarker） -->
<dependency>
    <groupId>org.apache.velocity</groupId>
    <artifactId>velocity-engine-core</artifactId>
    <version>2.3</version>
</dependency>
```



### 步骤 2：刷新 Maven 依赖
在 IDEA 右侧的 **Maven 面板** 中（即m图标），点击 **刷新按钮**（刷新图标，通常在面板顶部，reload all maven projects），等待依赖下载完成。

### 步骤 3：重新编译项目
点击 IDEA 顶部的 **Build** → **Rebuild Project**，重新编译后即可解决符号无法解析的问题。

----
### 2.2 数据库初始化（Navicat操作）
1. 打开Navicat→连接MySQL（输入主机`localhost`、用户名`root`、密码）
2. 右键连接→「新建数据库」：
    - 数据库名：`task_management_system`
    - 字符集：`utf8mb4`
    - 排序规则：`utf8mb4_unicode_ci`
3. 双击数据库进入→「查询」→「新建查询」，粘贴以下SQL并运行（创建表结构）：
   ```sql
   -- 用户表
   CREATE TABLE sys_user (
     user_id BIGINT AUTO_INCREMENT PRIMARY KEY,
     username VARCHAR(50) NOT NULL UNIQUE,
     password VARCHAR(100) NOT NULL,
     signature VARCHAR(200),
     avatar_url VARCHAR(255),
     register_time DATETIME DEFAULT CURRENT_TIMESTAMP,
     account_status TINYINT DEFAULT 1 COMMENT '1=启用,0=禁用'
   ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

   -- 任务表
   CREATE TABLE sys_task (
     task_id BIGINT AUTO_INCREMENT PRIMARY KEY,
     parent_task_id BIGINT,
     user_id BIGINT NOT NULL,
     task_content VARCHAR(500) NOT NULL,
     start_time DATETIME,
     end_time DATETIME,
     completion_status TINYINT DEFAULT 0 COMMENT '0=未完成,1=已完成',
     create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
     update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
     FOREIGN KEY (user_id) REFERENCES sys_user(user_id) ON DELETE CASCADE,
     FOREIGN KEY (parent_task_id) REFERENCES sys_task(task_id) ON DELETE CASCADE
   ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

   -- 操作记录表
   CREATE TABLE sys_operation_record (
     record_id BIGINT AUTO_INCREMENT PRIMARY KEY,
     user_id BIGINT NOT NULL,
     task_id BIGINT NOT NULL,
     operation_type VARCHAR(20) NOT NULL,
     operation_time DATETIME DEFAULT CURRENT_TIMESTAMP,
     operation_detail TEXT,
     FOREIGN KEY (user_id) REFERENCES sys_user(user_id) ON DELETE CASCADE,
     FOREIGN KEY (task_id) REFERENCES sys_task(task_id) ON DELETE CASCADE
   ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
   ```

### 2.3 配置数据库连接（IDEA专业版数据库工具）
1. 在IDEA右侧打开「Database」面板
2. 点击「+」→「Data Source」→「MySQL」
3. 填写连接信息：
    - **Host**：`localhost`
    - **Port**：`3306`
    - **User**：`root`
    - **Password**：你的MySQL密码
    - **Database**：`task_management_system`
4. 点击「Test Connection」→出现绿色对勾后点击「OK」
5. 打开`src/main/resources/application.yml`，添加配置：（没有application.yml文件，就手动创建）
   ```yaml
   spring:
     datasource:
       driver-class-name: com.mysql.cj.jdbc.Driver
       url: jdbc:mysql://localhost:3306/task_management_system?useSSL=false&serverTimezone=UTC
       username: root
       password: 你的密码
   mybatis-plus:
     mapper-locations: classpath:mapper/**/*.xml
     type-aliases-package: com.task.backend.entity
   ```

### 2.4 生成实体类与接口（MyBatis-Plus）
1. 在`src/main/java/com/task/backend`下创建`generator`包，新建`CodeGenerator.java`：
   ```java
   package com.task.backend.generator;

   import com.baomidou.mybatisplus.generator.FastAutoGenerator;
   import com.baomidou.mybatisplus.generator.config.OutputFile;
   import java.util.Collections;

   public class CodeGenerator {
       public static void main(String[] args) {
           FastAutoGenerator.create(
                   "jdbc:mysql://localhost:3306/task_management_system?useSSL=false&serverTimezone=UTC",
                   "root", "你的密码"
               )
               .globalConfig(builder -> {
                   builder.author("task")
                           .outputDir(System.getProperty("user.dir") + "/src/main/java")
                           .disableOpenDir();
               })
               .packageConfig(builder -> {
                   builder.parent("com.task.backend")
                           .pathInfo(Collections.singletonMap(
                                   OutputFile.xml, 
                                   System.getProperty("user.dir") + "/src/main/resources/mapper"
                               ));
               })
               .strategyConfig(builder -> {
                   builder.addInclude("sys_user", "sys_task", "sys_operation_record")
                           .entityBuilder().enableLombok()
                           .controllerBuilder().enableRestStyle();
               })
               .execute();
       }
   }
   ```
2. 右键`CodeGenerator.java`→「Run」，自动生成：
    - `entity`（实体类）、`mapper`（数据访问接口）
    - `service`（业务逻辑）、`controller`（接口层）

### 2.5 编写测试接口并启动
1. 打开`TaskController.java`，添加测试接口：
   ```java
   package com.task.backend.controller;

   import com.task.backend.entity.Task;
   import com.task.backend.service.TaskService;
   import org.springframework.web.bind.annotation.GetMapping;
   import org.springframework.web.bind.annotation.RequestMapping;
   import org.springframework.web.bind.annotation.RestController;
   import javax.annotation.Resource;  
   import java.util.List;

   @RestController
   @RequestMapping("/api/task")
   public class TaskController {
       @Resource
       private TaskService taskService;

       @GetMapping("/list")
       public List<Task> getTaskList() {
           return taskService.list(); // 查询所有任务（实际应按用户筛选）
       }
   }
   ```
   
----
如果   `import javax.annotation.Resource;`报错，检查pom.xml有没有以下关键依赖
```angular2html
<!-- MyBatis-Plus 完整依赖链 -->
<dependency>
    <groupId>com.baomidou</groupId>
    <artifactId>mybatis-plus-boot-starter</artifactId>
    <version>3.5.7</version>
</dependency>
<dependency>
    <groupId>com.baomidou</groupId>
    <artifactId>mybatis-plus-generator</artifactId>
    <version>3.5.7</version>
</dependency>
<dependency>
    <groupId>org.apache.velocity</groupId>
    <artifactId>velocity-engine-core</artifactId>
    <version>2.3</version>
</dependency>

```
----

2. 找到`BackendApplication.java`（带`@SpringBootApplication`注解），右键→「Run」
3. 控制台显示`Started BackendApplication in XXX seconds`即启动成功，访问`http://localhost:8080/api/task/list`可看到空列表（暂无数据）

---

## 第三部分：前端项目搭建（VS Code）

### 3.1 创建Vue3项目（基于Vite）
1. 打开VS Code→「文件」→「打开文件夹」→选择`D:\projects`
2. 「终端」→「新建终端」，执行：
   ```bash
   pnpm create vite@latest task-management-frontend -- --template vue-ts
   cd task-management-frontend
   pnpm install
   pnpm add element-plus pinia vue-router axios echarts
   ```

### 3.2 配置路由与入口文件
1. 在`src`下创建`router`文件夹，新建`index.ts`：
   ```typescript
   import { createRouter, createWebHistory } from 'vue-router';
   const router = createRouter({
     history: createWebHistory(),
     routes: [
       { path: '/', redirect: '/login' },
       { path: '/login', component: () => import('../views/Login.vue') },
       { path: '/tasks', component: () => import('../views/TaskView.vue') }
     ]
   });
   export default router;
   ```
2. 修改`src/main.ts`：
   ```typescript
   import { createApp } from 'vue';
   import { createPinia } from 'pinia';
   import ElementPlus from 'element-plus';
   import 'element-plus/dist/index.css';
   import router from './router';
   import App from './App.vue';

   createApp(App)
     .use(createPinia())
     .use(ElementPlus)
     .use(router)
     .mount('#app');
   ```

### 3.3 编写任务列表页面
1. 在`src/views`下创建`TaskView.vue`：
   ```vue
   <template>
     <div class="container">
       <el-button type="primary" @click="fetchTasks">加载任务</el-button>
       <el-table :data="tasks" style="margin-top: 20px;">
         <el-table-column prop="taskId" label="任务ID" />
         <el-table-column prop="taskContent" label="任务内容" />
         <el-table-column prop="completionStatus" label="状态" 
           :formatter="(row) => row.completionStatus === 1 ? '已完成' : '未完成'" />
       </el-table>
     </div>
   </template>

   <script setup lang="ts">
   import { ref } from 'vue';
   import axios from 'axios';

   const tasks = ref([]);
   const fetchTasks = async () => {
     const res = await axios.get('http://localhost:8080/api/task/list');
     tasks.value = res.data;
   };
   </script>

   <style scoped>
   .container { padding: 20px; }
   </style>
   ```
2. 启动前端：终端执行`pnpm run dev`，访问`http://localhost:5173/tasks`，点击「加载任务」按钮测试（需后端已启动）

---

## 第四部分：解决跨域问题（后端配置）
1. 在`com.task.backend`下创建`config`包，新建`CorsConfig.java`：
   ```java
   package com.task.backend.config;

   import org.springframework.context.annotation.Bean;
   import org.springframework.context.annotation.Configuration;
   import org.springframework.web.cors.CorsConfiguration;
   import org.springframework.web.cors.UrlBasedCorsConfigurationSource;
   import org.springframework.web.filter.CorsFilter;

   @Configuration
   public class CorsConfig {
       @Bean
       public CorsFilter corsFilter() {
           CorsConfiguration config = new CorsConfiguration();
           config.addAllowedOrigin("http://localhost:5173"); // 允许前端域名
           config.addAllowedMethod("*"); // 允许所有请求方法
           config.addAllowedHeader("*"); // 允许所有请求头
           UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();
           source.registerCorsConfiguration("/**", config);
           return new CorsFilter(source);
       }
   }
   ```
2. 重启后端，前端即可正常调用接口

---

## 下一步操作建议
1. 在Navicat中给`sys_user`表插入测试用户（密码用BCrypt加密）
2. 完善前端登录页面，实现用户名/密码登录
3. 开发任务的增删改功能（前后端接口对应）
4. 集成ECharts实现数据可视化模块

专业版IDE提供了代码提示、调试工具、数据库可视化等功能，可显著提升开发效率，遇到问题时可利用「Help」→「Search Documentation」查询官方文档。